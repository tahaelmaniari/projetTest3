<nb-card>
  <nb-card-header class="d-flex justify-content-between mb-4">
    <div >
      <h5>Suivi et Gestion des Projets</h5>
    </div>
    <div>
      <div class="row">
        <div class="col">
          <button nbButton type="submit" hero status="danger" routerLink="../init-project" class="m-0" >Iniiter un projet</button>

        </div>
<!--        <div class="col">
          <nb-select class="my-2"  id="type" [(selected)]="selectedType" (selectedChange)="loadAllRequests($event)">
            <nb-option [value]="allTypeDemande">Tous les types</nb-option>
            <nb-option *ngFor="let type of typeDemandes" [value]="type">{{type.libelle}}</nb-option>
          </nb-select>
        </div>
        <div class="col">
          <nb-button-group class="col" (valueChange)="updateSingleSelectGroupValue($event)">
            <button nbButtonToggle value="Mois" pressed>Mois</button>
            <button nbButtonToggle value="Année">Année</button>
          </nb-button-group>
        </div>
        <div class="col py-2">
          <input class="form-control" placeholder=" Date" [nbDatepicker]="formpicker" [(ngModel)]="range" >
          <nb-rangepicker #formpicker (rangeChange) ="onChange($event)"></nb-rangepicker>
        </div>-->
      </div>
    </div>
  </nb-card-header>

</nb-card>



<!--************************************** SMALL CARD ROW ****************************-->
<nb-card>
  <div id="small-cards-row" class="row d-flex justify-content-between ml-2">
    <!-- ******** card 1 ******** -->
    <div class="col-lg-3 ">
       <div class="card small-cards shadow mb-5 bg-white "  >
        <div class="card-body d-flex flex-column ">
          <div class="icon-row1 d-flex justify-content-center align-items-center shadow   ">
            <fa-icon [icon]="faMoney" style="font-size: 40px;"></fa-icon>
          </div>
  
          <div class="title-row mt-2 pb-0">
            <p class="fs-5">Projet en Cours </p>
          </div>
          <div class="stats-row align-self-end justify-content-start pb-0">
            <h4>5</h4>
          </div>
  
        </div>
  
      </div>
    </div>
    <div class="col-lg-3 ">
      <div class="card small-cards shadow mb-5 bg-white " >
        <div class="card-body d-flex flex-column ">
          <div class="icon-row3 d-flex justify-content-center align-items-center shadow   ">
            <fa-icon [icon]="faTime" style="font-size: 40px;"></fa-icon>

          </div>
  
          <div class="title-row mt-2 pb-0">
            <p class="fs-5">Moyenne de réalisation du projet</p>
          </div>
          <div class="stats-row align-self-end justify-content-start pb-0">
            <h4>3 mois</h4>
          </div>
  
        </div>
  
      </div>
    </div>
  
    <!-- ******** card 3 ******** -->
    <div class="col-lg-3">
  
      <div class="card small-cards shadow mb-5 bg-white "  >
        <div class="card-body d-flex flex-column ">
          <div class="icon-row4 d-flex justify-content-center align-items-center shadow   ">
            <fa-icon [icon]="faMoneyEstimation" style="font-size: 40px;"></fa-icon>

          </div>
  
          <div class="title-row mt-2 pb-0">
            <p class="fs-5">Estimations des projets</p>
          </div>
          <div class="stats-row align-self-end justify-content-start pb-0">
            <h4> 400M</h4>
          </div>
  
        </div>
  
  
      </div>
    </div>
  
  
    <!-- ******** card 4 ******** -->
    <div class="col-lg-3 ">
  
      <div class="card small-cards shadow mb-5 bg-white "  >
        <div class="card-body d-flex flex-column ">
          <div class="icon-row2 d-flex justify-content-center align-items-center shadow   ">
            <fa-icon [icon]="average" style="font-size: 40px;"></fa-icon>

          </div>
  
  
          <div class="title-row mt-2 pb-0">
            <p class="fs-5">Moyenne de projets à traiter/mois </p>
          </div>
          <div class="stats-row align-self-end justify-content-start pb-0">
            <h4>4</h4>
          </div>
  
        </div>
  
  
  
      </div>
    </div>
  
  </div>
</nb-card>
<!-- 
<div class="row">
  <div class="col-lg-4 mb-4">
    <div class="card p-0 shadow-lg bg-white rounded-3 " style="overflow: hidden ; padding-bottom: 0px">
      <div class=" card-body ">
        <div class="row ">
          <p class="fs-4">Evolution des Projets </p>
          <h1>66</h1>
        </div>

     <div class="chart-area"  style="position: relative; ">
          <canvas id="myLineChart"  #myLineChart  style="margin-left: -10%; margin-right: -10%; ">
          </canvas>

        </div>&ndash;&gt;
        <gh-linechart [gradient]="['rgba(153, 102, 255, 0.8)','rgb(255,255,255)']"></gh-linechart>

      </div>
    </div>
  </div>


  <div class="col-lg-4 mb-2">
    <div class="card p-0 shadow-lg bg-white rounded-3 " style="overflow: hidden ; padding-bottom: 0px">
      <div class=" card-body ">
        <div class="row ">
          <p class="fs-4">Total en attente  </p>
          <h1>16</h1>

        </div>


        <gh-linechart2 [gradient]="['rgba(43, 224, 133, 0.8)','rgb(255,255,255)']"></gh-linechart2>



      </div>
    </div>
  </div>

  <div class="col-lg-4 mb-2">
    <div class="card p-0 shadow-lg bg-white rounded-3 " style="overflow: hidden ; padding-bottom: 0px">
      <div class=" card-body ">
        <div class="row ">
          <p class="fs-4">Total en attente  </p>
          <h1>16</h1>

        </div>


        <gh-linechart3 [gradient]="['rgba(255, 99, 132, 0.8)','rgb(255,255,255)']" ></gh-linechart3>



      </div>
    </div>
  </div>

</div> -->

<div class="col-lg-12">
  <nb-card>
  <nb-card-header class="d-flex justify-content-between mb-4">
    <div>
      <h5 class="fs-5">Maps des Projets</h5>
    </div>
  </nb-card-header>
<!--  <app-map></app-map>  
 --></nb-card>
</div>



<div class="row">
    <div class="col-lg-6">
      <nb-card>
      <nb-card-header class="d-flex justify-content-between mb-4">
        <div>
          <h5 class="fs-5">Les projets par Mois</h5>
        </div>
      </nb-card-header>
      <app-projet-by-lot></app-projet-by-lot>

    </nb-card>
    </div>

    <div class="col-lg-6">
      <nb-card>
      <nb-card-header class="d-flex justify-content-between mb-4">
        <div>
          <h5 class="fs-5">Etats des projets</h5>
        </div>

      </nb-card-header>
      <app-fournisseur-by-lot></app-fournisseur-by-lot>
      
    </nb-card>
    </div>


  </div>
<!--************************************** SMART TABLE + PIE CHARTS ****************************-->

  <!-- ******** card 2 ******** -->
  <div class="row">
  <div class="col-lg-6 ">
    <nb-card>
      <nb-progress-bar [value]="50"></nb-progress-bar>

      <nb-card-header class="d-flex justify-content-between mb-4">
        <div >
          <h5 class="fs-5">Les articles des Projets</h5>
        </div>
      </nb-card-header>
      <nb-card-body>
          <table aria-describedby="app-ref"  class="w-100 table-hover">
          <thead>
          <!--         <tr class="h-auto text-white">
                     <th>Nom</th>
                     <th>Description</th>
                     <th>Actions</th>
                   </tr-->
          <tr class="h-auto text-white">
            <th>
              Désignation
              <!--                      <input nbInput [(ngModel)]="name" (ngModelChange)="getAllApps(1)" placeholder="Application" fullWidth/>-->
            </th>
            <th>
              Budget
              <!--                      <input nbInput [(ngModel)]="description" (ngModelChange)="getAllApps(1)" placeholder="Description" fullWidth/>-->
            </th>
            <th>Articles Bordereaux</th>
            <th>Articles Hors Bordereaux</th>
            <th>Status</th>
          </tr>
          </thead>

          <tbody>
          <tr >
            <td>Agence CIL</td>
            <td>6M</td>
            <td>700</td>
            <td>200</td>
            <td>Terminé</td>
          </tr>
          <tr >
            <td>Agence Abdelmoumen</td>
            <td>3M</td>
            <td>400</td>
            <td>100</td>
            <td>En Attente</td>
          </tr>
          <tr >
            <td>Agence SM</td>
            <td>8M</td>
            <td>600</td>
            <td>800</td>
            <td>Démaré</td>
          </tr>
          <tr >
            <td>Agence DMG</td>
            <td>4M</td>
            <td>700</td>
            <td>200</td>
            <td>En Attente</td>
          </tr>
          </tbody>
        </table>
      </nb-card-body>
    </nb-card>

  </div>
  <div class="col-lg-6">
    <nb-card>
    <nb-card-header class="d-flex justify-content-between mb-4">
      <div>
        <h5 class="fs-5">Notation des fournisseurs</h5>
      </div>
    </nb-card-header>
    <app-notation-fournisseur></app-notation-fournisseur>

  </nb-card>
  </div>

  <div class="col-lg-12">
    <nb-card>
    <nb-card-header class="d-flex justify-content-between mb-4">
      <div>
        <h5 class="fs-5">Evolution des projets</h5>
      </div>
    </nb-card-header>
    <app-evolution-projet-lot></app-evolution-projet-lot>

  </nb-card>
  
  </div>

